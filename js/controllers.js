var mysoreeatsController=angular.module("mysoreeatsController",[]);mysoreeatsController.controller("HomeController",["$scope",function(e){e.title="HOME"}]),mysoreeatsController.controller("ContactController",["$scope",function(e){}]),mysoreeatsController.controller("BestController",["$scope","$http",function(e,t){e.title="best",t.get("json_data/best.json").success(function(t){e.hotels=t})}]),mysoreeatsController.controller("LatestController",["$scope","$http",function(e,t){e.title="latest",t.get("json_data/latest.json").success(function(t){e.hotels=t})}]),mysoreeatsController.controller("GlobalController",["$scope","$http",function(e,t){e.title="global",t.get("json_data/global.json").success(function(t){e.hotels=t})}]),mysoreeatsController.controller("VeganController",["$scope","$http",function(e,t){e.title="vegan",t.get("json_data/vegan.json").success(function(t){e.hotels=t})}]),mysoreeatsController.controller("DessertController",["$scope","$http",function(e,t){e.title="Dessert",t.get("json_data/desserts.json").success(function(t){e.hotels=t})}]),mysoreeatsController.controller("HotelDetailController",["$scope","$routeParams","$http",function(e,t,o){function n(){return navigator.onLine}$(".ajax-loader").hide(),$(".like-loader").hide(),e.usermodel={username:"",usercomment:""},o.get("json_data/"+t.hotelName+".json").success(function(t){e.hoteldetails=t,jQuery.ajax({type:"GET",url:"http://www.cityxplorer.esy.es/db/show_comments.php",data:{hotel:e.hoteldetails.hotel},success:function(e){$("#comments_column").append(e)},error:function(e,t,o){$("#comments_column").append("Couldn't show comments!")}}),e.get_directions=function(e){var t,o={enableHighAccuracy:!0},n=function(o){t=o;var n=t.coords.latitude+","+t.coords.longitude;$("#showDirections").attr("href","http://maps.google.com/maps?saddr="+n+"&daddr="+e)},r=function(e){};navigator.geolocation.getCurrentPosition(n,r,o)}}),e.increment_like=function(e){if(!n())return void alert("Please Enable Internet Connection.");var t=$(".like span"),r=$(".like-loader");t.hide(),r.show();var s=0;s=$(".like").hasClass("btn-danger")?-1:1,o({url:"http://www.cityxplorer.esy.es/db/increment_like.php",method:"POST",data:{hotel:e,likes:s}}).success(function(e,o,n,s){$(".badge").text(e),$(".like").toggleClass("btn-danger"),r.hide(),t.show()}).error(function(e,o){alert("Please try again later..."),r.hide(),t.show()})},e.insert_comment=function(t){if(!n())return void alert("Please Enable Internet Connection.");var r=$(".ajax-loader"),s=$(".submit-comment");s.hide(),r.show(),o({url:"http://www.cityxplorer.esy.es/db/insert_comment.php",method:"POST",data:{hotel:t,username:e.usermodel.username,comment:e.usermodel.usercomment}}).success(function(t,o,n,l){$("#comments_column").prepend(t),e.usermodel.username="",e.usermodel.usercomment="",r.hide(),s.show()}).error(function(e,t){alert("Please Try again later..."),r.hide(),s.show()})}}]);